<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-62K6JPR1V6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-62K6JPR1V6');
</script>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CANpie FD | Bit-timing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
   DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="mc-awesome.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="mc-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectbrief">CAN programming interface environment</div>
   <div id="projectnumber">Version 3.10</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('canpie_api_bit_timing.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Bit-timing</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_pages_2canpie-02-reference_2canpie__api__bittiming"></a> To ensure correct sampling up to the last bit, a CAN node needs to resynchronize throughout the entire frame. This is done at the beginning of each frame with the falling edge SOF and on each recessive-to- dominant edge.</p>
<p>One CAN bit time is specified as four non-overlapping time segments. Each segment is constructed from an integer multiple of the time quantum. The time quantum (TQ) is the smallest discrete timing resolution used by a CAN node. The four time segments are: </p><ul>
<li>
the Synchronization Segment </li>
<li>
the Propagation Time Segment </li>
<li>
the Phase Segment 1 </li>
<li>
and the Phase Segment 2 </li>
</ul>
<p>The sample point is the point in time at which the bus level is read and interpreted as the value (recessive or dominant) of the respective bit. Its location is at the end of Phase Segment 1 (between the two Phase Segments). Programming of the sample point allows “tuning” of the characteristics to suit the bus. Early sampling allows more Time Quanta in the Phase Segment 2 so the Synchronization Jump Width can be programmed to its maximum. This maximum capacity to shorten or lengthen the bit time decreases the sensitivity to node oscillator tolerances, so lower cost oscillators such as ceramic resonators may be used. Late sampling allows more time quanta in the Propagation Time Segment, which allows a poorer bus topology and greater bus length. To allow interoperability between CAN nodes from different vendors, it is essential that both the absolute bit length (e.g., 1 microsecond) and the sample point are within certain limits. The following table gives an overview of recommended bit‑timing setups.</p>
<p> 
<table>
<tr class="memlist">
<td width=100><b>Bit rate</b></td>
<td width=120><b>Bit time</b></td>
<td width=200><b>Valid range for<br>sample point location</b></td>
<td width=200><b>Recommended sample<br>point location</b></td>
</tr>
<tr class="memlist">
<td>1 MBit/s</td>   <td>1&micro;s</td>      <td>75% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>800 kBit/s</td> <td>1.25&micro;s  </td> <td>75% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>500 kBit/s</td> <td>2&micro;s     </td> <td>85% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>250 kBit/s</td> <td>4&micro;s     </td> <td>85% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>125 kBit/s</td> <td>8&micro;s     </td> <td>85% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>50 kBit/s</td> <td>20&micro;s     </td> <td>85% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>20 kBit/s</td> <td>50&micro;s     </td> <td>85% .. 90%</td><td> 87.5%</td>
</tr>

<tr class="memlist">
<td>10 kBit/s</td> <td>100&micro;s     </td> <td>85% .. 90%</td><td> 87.5%</td>
</tr>

</table>
</p>
<p>The default bit rates defined in this table can be set via the core function <a class="el" href="cp__core_8h.html#a23cb8c502d0c9c62156e12b40c3298e2">CpCoreBitrate()</a>. The supplied parameter for the bit rate selection is taken from the enumeration <a class="el" href="canpie_8h.html#a1701ab116f6fb6d511dfc34e5115de2b" title="Fixed bit rates.">CpBitrate_e</a> (<a class="el" href="canpie_8h.html">canpie.h</a>). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer"><a href="https://www.microcontrol.net">&copy; MicroControl GmbH &amp; Co. KG</a> Mon Sep 15 2025 </li>
  </ul>
</div>
</body>
</html>
